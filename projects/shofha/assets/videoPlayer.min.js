$(function(){var n=$("#videoPlayer"),o=$(".sound-button"),i=$(".volume"),c=$(".volume-bar"),e=$(".btnFS"),t=$(".video-progress"),a=$(".time-bar"),s=$(".buffer-bar"),u=$(".current"),r=$(".duration");function l(){n[0].paused?n[0].play():n[0].pause()}function d(e,t){$percentage=t?100*t:($position=e-i.offset().left,100*$position/i.width()),100<$percentage&&($percentage=100),$percentage<0&&($percentage=0),c.css("width",$percentage+"%"),n[0].volume=$percentage/100,0==n[0].volume?o.removeClass("sound-med").addClass("sound-muted"):.5<n[0].volume?o.removeClass("sound-muted").addClass("sound-med"):o.removeClass("sound-muted").removeClass("sound-med")}$(".play").on("click",function(){n[0].play()}),$(".pause").on("click",function(){n[0].pause()}),$(".play-pause button").on("click",function(){$(".play, .pause").toggle()}),n[0].onended=function(e){$(".play, .pause").toggle()},n.on("click",function(){$(".play, .pause").toggle(),l()});var m=!1;function v(e){var t=Math.floor(e/60)<10?"0"+Math.floor(e/60):Math.floor(e/60);return t+":"+(Math.floor(e-60*t)<10?"0"+Math.floor(e-60*t):Math.floor(e-60*t))}function f(){$current_buffer=n[0].buffered.end(0),$max_duration=n[0].duration,$perc=100*$current_buffer/$max_duration,s.css("width",$perc+"%"),$current_buffer<$max_duration&&setTimeout(f,500)}function p(e){$position=e-a.offset().left,$percentage=100*$position/t.width(),100<$percentage&&($percentage=100),$percentage<0&&($percentage=0),a.css("width",$percentage+"%"),n[0].currentTime=n[0].duration*$percentage/100}i.on("mousedown",function(e){m=!0,n[0].muted=!1,o.removeClass("muted"),d(e.pageX)}),$(document).on("mouseup",function(e){m&&(m=!1,d(e.pageX))}),$(document).on("mousemove",function(e){m&&d(e.pageX)}),$(".quality button").click(function(){video=$("#videoPlayer"),videoDOM=video.get(0),curtime=videoDOM.currentTime,source=video.find("source[label="+$(this).attr("id")+"]"),source.remove(),video.prepend(source),video[0].load(),videoDOM.currentTime=curtime,videoDOM.play(),console.log(source.attr("label"))}),o.click(function(){n[0].muted=!n[0].muted,$(this).toggleClass("sound-muted"),n[0].muted?c.css("width",0):c.css("width",100*n[0].volume+"%")}),n.on("loadedmetadata",function(){u.text(v(0)),r.text(v(n[0].duration)),d(0,.7),setTimeout(f,150)}),n.on("timeupdate",function(){u.text(v(n[0].currentTime)),r.text(v(n[0].duration));var e=100*n[0].currentTime/n[0].duration;a.css("width",e+"%")});var g=!1;t.on("mousedown",function(e){g=!0,p(e.pageX)}),$(document).on("mouseup",function(e){g&&(g=!1,p(e.pageX))}),$(document).on("mousemove",function(e){g&&p(e.pageX)}),e.click(function(){n[0].requestFullscreen?n[0].requestFullscreen():n[0].mozRequestFullScreen?n[0].mozRequestFullScreen():n[0].webkitRequestFullscreen?n[0].webkitRequestFullscreen():n[0].msRequestFullscreen&&n[0].msRequestFullscreen()}),document.onkeydown=function(e){switch(e.keyCode){case 37:e.preventDefault(),vid_currentTime=n[0].currentTime,n[0].currentTime=vid_currentTime-10;break;case 39:e.preventDefault(),vid_currentTime=n[0].currentTime,n[0].currentTime=vid_currentTime+10;break;case 32:e.preventDefault(),l()}},$(".backward").on("click",function(){vid_currentTime=n[0].currentTime,n[0].currentTime=vid_currentTime-10}),$(".forward").on("click",function(){vid_currentTime=n[0].currentTime,n[0].currentTime=vid_currentTime+10})}),$(function(){var e=document.getElementById("videoPlayer");e.load(),$("#-5").on("click",function(){e.playbackRate=.5,$(this).addClass("active").siblings().removeClass("active")}),$("#-75").on("click",function(){e.playbackRate=.75,$(this).addClass("active").siblings().removeClass("active")}),$("#1x").on("click",function(){e.playbackRate=1,$(this).addClass("active").siblings().removeClass("active")}),$("#1-5").on("click",function(){e.playbackRate=1.5,$(this).addClass("active").siblings().removeClass("active")}),$("#1-75").on("click",function(){e.playbackRate=1.75,$(this).addClass("active").siblings().removeClass("active")}),$("#2x").on("click",function(){e.playbackRate=2,$(this).addClass("active").siblings().removeClass("active")})}),$("#backBtn").on("click",function(){window.history.back()}),$(function(){var e,t=!1;function n(){$("html").css({cursor:"none"}),t=!0,setTimeout(function(){t=!1},500),$(".video-controls").addClass("hideme"),$(".vid-caption").addClass("hideme")}$(document).mousemove(function(){t||(t=!1,clearTimeout(e),$("html").css({cursor:"default"}),e=setTimeout(n,2e3)),$(".video-controls").removeClass("hideme"),$(".vid-caption").removeClass("hideme")})}),$(".quality-list button").on("click",function(){$(this).addClass("active").siblings().removeClass("active")}),$("#showPlaylist").on("click",function(){var e=$(window).width(),t=$(".playlist-wrapper").width();$(this).toggleClass("show"),$(".playlist-wrapper").toggleClass("show"),$(".player").width(e-t).toggleClass("player-s")});